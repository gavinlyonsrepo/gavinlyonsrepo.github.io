<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MAX7219_7SEG_RPI: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MAX7219_7SEG_RPI
   &#160;<span id="projectnumber">1.2.0</span>
   </div>
   <div id="projectbrief">MAX7219 seven segment Driver, Raspberry PI C++ library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://gavinlyonsrepo.github.io/"><img src="https://img.shields.io/badge/Website-Link-blue.svg" alt="Website" style="pointer-events: none;" class="inline"/></a> <a href="https://gavinlyonsrepo.github.io//feed.xml"><img src="https://img.shields.io/badge/Subscribe-RSS-yellow.svg" alt="Rss" style="pointer-events: none;" class="inline"/></a> <a href="https://www.paypal.com/paypalme/whitelight976"><img src="https://img.shields.io/badge/Donate-PayPal-green.svg" alt="Donate" style="pointer-events: none;" class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md1"></a>
MAX7219_7SEG_RPI</h1>
<p><img src="https://github.com/gavinlyonsrepo/MAX7219_7SEG_RPI/blob/main/extra/image/max.jpg" alt=" max " class="inline"/></p>
<h2><a class="anchor" id="autotoc_md2"></a>
Table of contents</h2>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#test">Test</a></li>
<li><a href="#software">Software</a></li>
<li><a href="#hardware">Hardware</a></li>
<li><a href="#notes">Notes</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md3"></a>
Overview</h2>
<ul>
<li>Name: MAX7219_7SEG_RPI</li>
<li>Author: Gavin Lyons.</li>
<li>Description:</li>
</ul>
<p>A Raspberry pi library to display data on a 8-digit MAX7219 seven segment module. Dynamic install-able system level Raspberry Pi C++ library. Hardware or software SPI, Shutdown mode, test mode and Brightness control supported.</p>
<ul>
<li>Developed on<ol type="1">
<li>Raspberry PI 3 model b,</li>
<li>C++ , complier g++ (Raspbian 8.3.0-6+rpi1) 8.3.0</li>
<li>Raspbian 10 buster OS , armv7l Linux 5.10.103-v7+</li>
<li>bcm2835 Library 1.71 (Dependency: used for GPIO control and delays)</li>
</ol>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md4"></a>
Installation</h2>
<ol type="1">
<li>Install the dependency bcm2835 Library if not installed<ul>
<li>The bcm2835 library is a dependency and provides delays and GPIO control.</li>
<li>Install the C libraries of bcm2835, <a href="http://www.airspayce.com/mikem/bcm2835/">Installation instructions here</a></li>
</ul>
</li>
<li>Download the MAX7219_7SEG_RPI library<ul>
<li>Open a Terminal in a folder where you want to download,build &amp; test library</li>
<li>Run following command to download from github.</li>
</ul>
</li>
</ol>
<div class="fragment"><div class="line">curl -sL https://github.com/gavinlyonsrepo/MAX7219_7SEG_RPI/archive/1.2.tar.gz | tar xz</div>
</div><!-- fragment --><ol type="1">
<li>Run "make" to run the makefile in base folder to make and install library, it will be installed to usr/lib and usr/include</li>
</ol>
<div class="fragment"><div class="line">cd MAX7219_7SEG_RPI-1.2</div>
<div class="line">make</div>
<div class="line">sudo make install</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md5"></a>
Test</h2>
<p>Wire up your Display. Next step is to test LED display and the just installed library with an example file.</p>
<p>There are 6 examples files. The default example file is "hello world". To decide which one the makefile(In examples folder) builds simply edit "SRC" variable at top of the makefile(In examples folder). in the "User SRC directory Option Section" at top of file.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">List No   </th><th class="markdownTableHeadNone">Example file name   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">SPI type    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone"><a class="el" href="TESTS_2main_8cpp.html" title="A demo file for Max7219 seven segment displays , Carries out series of tests to test the library....">src/TESTS/main.cpp</a>   </td><td class="markdownTableBodyNone">test sequence   </td><td class="markdownTableBodyNone">software    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone"><a class="el" href="HELLOWORLD__HWSPI_2main_8cpp.html" title="A demo file library for Max7219 seven segment displays Carries out most basic use case/test ,...">src/HELLOWORLD_HWSPI/main.cpp</a>   </td><td class="markdownTableBodyNone">Hello world   </td><td class="markdownTableBodyNone">hardware    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone"><a class="el" href="TESTS__HWSPI_2main_8cpp.html" title="A demo file for Max7219 seven segment displays , Carries out series of tests to test the library....">src/TESTS_HWSPI/main.cpp</a>   </td><td class="markdownTableBodyNone">test sequence   </td><td class="markdownTableBodyNone">hardware    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone"><a class="el" href="BCDMODE_2main_8cpp.html" title="A demo file library for Max7219 seven segment displays Carries out tests on BCD decode mode 3....">src/BCDMODE/main.cpp</a>   </td><td class="markdownTableBodyNone">Shows use of BCD built-in font   </td><td class="markdownTableBodyNone">hardware    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">5   </td><td class="markdownTableBodyNone"><a class="el" href="CLOCK__DEMO_2main_8cpp.html" title="A demo file library for Max7219 seven segment displays.">src/CLOCK_DEMO/main.cpp</a>   </td><td class="markdownTableBodyNone">Clock demo , Shows use of cascaded displays   </td><td class="markdownTableBodyNone">hardware    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">6   </td><td class="markdownTableBodyNone"><a class="el" href="CASCADE__DEMO_2main_8cpp.html" title="A demo file library for Max7219 seven segment displays Shows simple example with two cascades display...">src/CASCADE_DEMO/main.cpp</a>   </td><td class="markdownTableBodyNone">simple Demo showing use of cascaded displays   </td><td class="markdownTableBodyNone">hardware   </td></tr>
</table>
<p>Next enter the examples folder and run the makefile in THAT folder, This makefile builds the examples file using the just installed library. and creates a test exe file in "bin".</p>
<div class="fragment"><div class="line">cd examples</div>
<div class="line">make</div>
<div class="line">make run</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md6"></a>
Software</h2>
<p><b>API</b></p>
<p>The API (application programming interface) documentation is at link hosted on github pages and generated by Doxygen.</p>
<p><a href="https://gavinlyonsrepo.github.io/misc/software_docs/MAX7219_7SEG_RPI/index.html">URL</a></p>
<p>There are two makefiles: </p><pre class="fragment">1. Root directory, builds and installs library at a system level.
2. Example directory, builds example file using installed library to an executable.
</pre> <h2><a class="anchor" id="autotoc_md7"></a>
Hardware</h2>
<p>For Software SPI Pick any GPIO you want. For Hardware SPI the User must use fixed SPI pins SPIMOSI and SPISCLK, user can choice between SPICE0 and SPICE1 for chip select. The Datasheet says it's a 10MHZ device, In hardware SPI user can pick SPI bus speed. In software SPI user may need to increase or decrease CommDelay variable (uS Communication delay) depending on speed of CPU on system. User can adjust brightness from 0x00 to 0x0f by default it is 0x08. 0x0f being brightest</p>
<p>Connections to RPI:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Pin no   </th><th class="markdownTableHeadNone">RPI SW SPI   </th><th class="markdownTableHeadNone">RPI HW SPI   </th><th class="markdownTableHeadNone">Pin function    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">any GPIO output   </td><td class="markdownTableBodyNone">SPISCLK   </td><td class="markdownTableBodyNone">CLK = Clock    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">any GPIO output   </td><td class="markdownTableBodyNone">SPICE0 or SP1CE1   </td><td class="markdownTableBodyNone">CS = Chip select    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone">any GPIO output   </td><td class="markdownTableBodyNone">SPIMOSI   </td><td class="markdownTableBodyNone">DIN = Data in   </td></tr>
</table>
<p>VCC 5V in theory but works at 3.3V in testing, albeit with a dimmer display. Logic seems to work fine at 3.3V , It safe as it is all one way communications From RPI to MAX.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Notes</h2>
<p>TODO</p>
<ol type="1">
<li>Support for Cascaded Displays added in Version 1.2 but untested as only one display available. Casacded Displays are displays connected together. Din-&gt; Dout and CS lines tied together. </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
