<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Display_Lib_RPI: MAX7219 7 Segment Readme</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Display_Lib_RPI<span id="projectnumber">&#160;2.4.2</span>
   </div>
   <div id="projectbrief">A C++ Library to connect electronic displays to Linux single board computers.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">MAX7219 7 Segment Readme</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="max7219-7-segment-readme"></a> <a href="https://github.com/gavinlyonsrepo/MAX7219_7SEG_RPI/blob/main/extra/image/max.jpg"><img src="https://github.com/gavinlyonsrepo/MAX7219_7SEG_RPI/blob/main/extra/image/max.jpg" alt=" max image " class="inline"/></a></p>
<h1><a class="anchor" id="table-of-contents-6"></a>
Table of contents</h1>
<ul>
<li><a class="el" href="md__2home_2gll_2Documents_2Tech_2RPi__projects_2Display__Lib__RPI_2extra_2doc_2ch1115_2README.html#overview">Overview</a></li>
<li><a class="el" href="md__2home_2gll_2Documents_2Tech_2RPi__projects_2Display__Lib__RPI_2extra_2doc_2ch1115_2README.html#software">Software</a></li>
<li><a class="el" href="md__2home_2gll_2Documents_2Tech_2RPi__projects_2Display__Lib__RPI_2extra_2doc_2ch1115_2README.html#hardware">Hardware</a></li>
<li><a class="el" href="md__2home_2gll_2Documents_2Tech_2RPi__projects_2Display__Lib__RPI_2extra_2doc_2hd44780_2README.html#notes-and-issues">Notes and Issues</a><ul>
<li><a class="el" href="md__2home_2gll_2Documents_2Tech_2RPi__projects_2Display__Lib__RPI_2extra_2doc_2max7219_2README.html#cascaded-displays">Cascaded Displays</a></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="overview-6"></a>
Overview</h1>
<ul>
<li>Name: MAX7219</li>
<li>Author: Gavin Lyons.</li>
<li>Description: A Raspberry pi library to display data on a 8-digit MAX7219 seven segment module. Dynamic install-able system level Raspberry Pi C++ library. Hardware or software SPI, Shutdown mode, test mode and Brightness control supported.</li>
</ul>
<h1><a class="anchor" id="software-6"></a>
Software</h1>
<h2><a class="anchor" id="file-system-2"></a>
File system</h2>
<p>Example files list:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">List No   </th><th class="markdownTableHeadNone">Example file name   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">SPI type    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">src/tests_swspi/main.cpp   </td><td class="markdownTableBodyNone">test sequence   </td><td class="markdownTableBodyNone">software    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">src/tests_hwspi/main.cpp   </td><td class="markdownTableBodyNone">test sequence   </td><td class="markdownTableBodyNone">hardware    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone">src/bcdmode/main.cpp   </td><td class="markdownTableBodyNone">Shows use of BCD built-in font   </td><td class="markdownTableBodyNone">hardware    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">src/clock_demo/main.cpp   </td><td class="markdownTableBodyNone">Clock demo , Shows use of cascaded displays   </td><td class="markdownTableBodyNone">hardware    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">5   </td><td class="markdownTableBodyNone">src/cascade_demo/main.cpp   </td><td class="markdownTableBodyNone">simple Demo showing use of cascaded displays   </td><td class="markdownTableBodyNone">hardware   </td></tr>
</table>
<h1><a class="anchor" id="hardware-6"></a>
Hardware</h1>
<h2><a class="anchor" id="software-spi-1"></a>
Software SPI</h2>
<p>For Software SPI Pick any GPIO you want. To get the number for GPIO_CHIP_DEVICE parameter you can check ls /dev/gpiochip* At time of testing it was found that Raspberry pi 5 = 4 and raspberry pi 3 = zero But now it look like both are zero after software update, although 4 should still work for RPi5 if a symlink is in /dev/ folder. In software SPI user may need to increase or decrease CommDelay variable (uS Communication delay) depending on speed of CPU on system.</p>
<h2><a class="anchor" id="hardware-spi"></a>
Hardware SPI</h2>
<p>For Hardware SPI the User must use fixed SPI pins SPIMOSI and SPISCLK, user can choice between SPICE0 and SPICE1 for chip select. The Datasheet says it's a 10MHZ device, In hardware SPI user can pick SPI bus speed.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">parameter   </th><th class="markdownTableHeadNone">default value   </th><th class="markdownTableHeadNone">note    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">HWSPI_DEVICE   </td><td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">A SPI device, &gt;= 0. which SPI interface to use , ls /dev/spi*    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">HWSPI_CHANNEL   </td><td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">A SPI channel, &gt;= 0. Which Chip enable pin to use usually 0 or 1    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">HWSPI_SPEED   </td><td class="markdownTableBodyNone">1000000   </td><td class="markdownTableBodyNone">The speed of serial communication in bits per second.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">HWSPI_FLAGS   </td><td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">mode 0 for this device   </td></tr>
</table>
<h2><a class="anchor" id="connections-to-rpi"></a>
Connections to RPI:</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Pin no   </th><th class="markdownTableHeadNone">RPI SW SPI   </th><th class="markdownTableHeadNone">RPI HW SPI   </th><th class="markdownTableHeadNone">Pin function    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">any GPIO output   </td><td class="markdownTableBodyNone">SPISCLK   </td><td class="markdownTableBodyNone">CLK = Clock    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">any GPIO output   </td><td class="markdownTableBodyNone">SPICE0 or SP1CE1   </td><td class="markdownTableBodyNone">CS = Chip select    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone">any GPIO output   </td><td class="markdownTableBodyNone">SPIMOSI   </td><td class="markdownTableBodyNone">DIN = Data in   </td></tr>
</table>
<p>VCC 5V in theory but works at 3.3V in testing, albeit with a dimmer display. Logic seems to work fine at 3.3V , It safe as it is all one way communications From RPI to MAX. User can adjust brightness from 0x00 to 0x0f by default it is 0x08. 0x0f being brightest</p>
<h1><a class="anchor" id="notes-and-issues-1"></a>
Notes and Issues</h1>
<h2><a class="anchor" id="cascaded-displays"></a>
Cascaded Displays</h2>
<p>Support for Cascaded Displays is shown in two of examples files. Multiple displays can be connected together. Cascaded Displays are displays connected together. CS and CLK lines are tied together. The DIN line is connected to the first display only. The DOUT line of the first display is then connected to the DIN line of the next display and so on. Diagram below shows how to connect two displays together. Specify number of displays in constructor parameter.</p>
<p><img src="https://github.com/gavinlyonsrepo/displaylib_LED_PICO/blob/main/extra/image/max7219cascade.png" alt="img Cascade" class="inline"/> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
