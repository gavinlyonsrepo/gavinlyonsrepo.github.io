<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Display_Lib_RPI: ERM19264 UC1609 Readme</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Display_Lib_RPI<span id="projectnumber">&#160;2.2.0</span>
   </div>
   <div id="projectbrief">A C++ Library to connect electronic displays to Linux single board computers.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">ERM19264 UC1609 Readme</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="erm19264-uc1609-readme"></a> <a href="https://github.com/gavinlyonsrepo/ERM19264_UC1609/blob/main/extras/image/color.jpg"><img src="https://github.com/gavinlyonsrepo/ERM19264_UC1609/blob/main/extras/image/color.jpg" alt=" ERM19264 image" class="inline"/></a></p>
<h1><a class="anchor" id="table-of-contents-1"></a>
Table of contents</h1>
<ul>
<li><a class="el" href="md__2home_2gll_2Documents_2Tech_2RPi__projects_2Display__Lib__RPI_2extra_2doc_2ch1115_2README.html#overview">Overview</a></li>
<li><a class="el" href="md__2home_2gll_2Documents_2Tech_2RPi__projects_2Display__Lib__RPI_2extra_2doc_2ch1115_2README.html#output">Output</a></li>
<li><a class="el" href="md__2home_2gll_2Documents_2Tech_2RPi__projects_2Display__Lib__RPI_2extra_2doc_2ch1115_2README.html#hardware">Hardware</a></li>
<li><a class="el" href="md__2home_2gll_2Documents_2Tech_2RPi__projects_2Display__Lib__RPI_2extra_2doc_2ch1115_2README.html#software">Software</a><ul>
<li><a class="el" href="md__2home_2gll_2Documents_2Tech_2RPi__projects_2Display__Lib__RPI_2extra_2doc_2ch1115_2README.html#spi">SPI</a></li>
<li><a class="el" href="md__2home_2gll_2Documents_2Tech_2RPi__projects_2Display__Lib__RPI_2extra_2doc_2ch1115_2README.html#bitmaps">Bitmaps</a></li>
<li><a class="el" href="md__2home_2gll_2Documents_2Tech_2RPi__projects_2Display__Lib__RPI_2extra_2doc_2ch1115_2README.html#user-adjustments">User Adjustments</a></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="overview-1"></a>
Overview</h1>
<ul>
<li>Name : <a class="el" href="classERM19264__UC1609.html" title="class to drive the ERM19264 UC1609 LCD">ERM19264_UC1609</a></li>
<li>Title : Library for ERM19264-5 v3 LCD (UC1609C controller)</li>
<li>Description :</li>
</ul>
<ol type="1">
<li>Dynamic install-able system level Linux based Single Board Computers C++ library.</li>
<li>Inverse, Scroll, rotate and contrast control.</li>
<li>Sleep mode.</li>
<li>Bitmaps supported.</li>
<li>Hardware &amp; software SPI options</li>
</ol>
<ul>
<li>Author: Gavin Lyons</li>
<li>This is a port of my <a href="https://github.com/gavinlyonsrepo/ERM19264_UC1609">Arduino library</a></li>
</ul>
<h1><a class="anchor" id="output-1"></a>
Output</h1>
<p><a href="https://github.com/gavinlyonsrepo/Display_Lib_RPI/blob/main/extra/images/erm19264.jpg"><img src="https://github.com/gavinlyonsrepo/Display_Lib_RPI/blob/main/extra/images/erm19264.jpg" alt=" output image " class="inline"/></a></p>
<h1><a class="anchor" id="hardware-1"></a>
Hardware</h1>
<p>9 pins , Vcc and GND, anode and cathode for the backlight LED and an SPI interface. The backlight control is left up to user , connect to 3.3V thru a resistor. If using Hardware SPI 3 pins will be tied to the SPI CEO, CLK and MOSI lines. if using software SPI you should be able use any GPIO you want for all five pins. Datasheets URLS are in the extras folder.</p>
<p>There are 3 different colours in range, Parts used purchased from <a href="https://www.ebay.ie/itm/2-inch-White-192x64-Graphic-LCD-Display-Module-UC1609-SPI-for-Arduino/293617684779?hash=item445cfa512b:g:10MAAOSwYV9e6xsi">ebay</a></p>
<ol type="1">
<li>ERM19264SBS-5 V3 LCD Display UC1609C controller , white on blue</li>
<li>ERM19264FS-5 V3 LCD Display UC1609C controller , black on white</li>
<li>ERM19264DNS-5 V3 LCD Display UC1609C controller white on black</li>
</ol>
<p>Wiring Diagram from supplier showing connection to RPI.</p>
<p><a href="https://github.com/gavinlyonsrepo/ERM19264_UC1609_RPI/blob/main/extras/image/wiring.png"><img src="https://github.com/gavinlyonsrepo/ERM19264_UC1609_RPI/blob/main/extras/image/wiring.png" alt=" Wiring image" class="inline"/></a></p>
<p>This wiring Diagram from the manufacturer showing hardware setup connected to an ~8051 MCU, showing both 3.3 volt and 5 volt systems. Note status of J1 PCB jumper.</p>
<p><a href="https://github.com/gavinlyonsrepo/ERM19264_UC1609/blob/main/extras/image/connect.jpg"><img src="https://github.com/gavinlyonsrepo/ERM19264_UC1609/blob/main/extras/image/connect.jpg" alt=" Connection image " class="inline"/></a></p>
<h1><a class="anchor" id="software-1"></a>
Software</h1>
<h2><a class="anchor" id="spi-1"></a>
SPI</h2>
<p>This library supports both Hardware SPI and software SPI. The constructor of the main class is overloaded. Which SPI is started depends on which constructor called by user.</p>
<p><em>Software SPI</em></p>
<p>For Software SPI Pick any GPIO you want. To get the number for GPIO_CHIP_DEVICE parameter you can check ls /dev/gpiochip* At time of testing it was found that Raspberry pi 5 = 4 and raspberry pi 3 = zero But now it look like both are zero after software update, although 4 should still work for RPi5 if a symlink is in /dev/ folder. The member OLEDHighFreqDelay is a GPIO uS delay that can be used to slow down or speed up Software SPI. By default it is set to 0uS. It may have to be increased depending on device/CPU used.</p>
<p><em>Hardware SPI</em></p>
<p>For Hardware SPI the User must use fixed SPI pins SPIMOSI and SPISCLK, user can choice between SPICE0 and SPICE1 for chip select. In hardware SPI user can pick SPI bus speed. SPI must be turned on device.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">parameter   </th><th class="markdownTableHeadNone">default value   </th><th class="markdownTableHeadNone">note    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">HWSPI_DEVICE   </td><td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">A SPI device, &gt;= 0. which SPI interface to use , ls /dev/spi*    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">HWSPI_CHANNEL   </td><td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">A SPI channel, &gt;= 0. Which Chip enable pin to use usually 0 or 1    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">HWSPI_SPEED   </td><td class="markdownTableBodyNone">1000000   </td><td class="markdownTableBodyNone">The speed of serial communication in bits per second.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">HWSPI_FLAGS   </td><td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">mode 0 for this device    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">GPIO_CHIP_DEVICE   </td><td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">gpio chip device &gt;= 0, check ls /dev/gpiochip   </td></tr>
</table>
<h2><a class="anchor" id="bitmaps-1"></a>
Bitmaps</h2>
<p>There is a few different ways of displaying bitmaps,</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Num   </th><th class="markdownTableHeadNone">Method   </th><th class="markdownTableHeadNone">Data addressing   </th><th class="markdownTableHeadNone">Note    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">LCDBitmap()   </td><td class="markdownTableBodyNone">Vertical   </td><td class="markdownTableBodyNone">Writes directly to screen , no buffer used.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">LCDBuffer()   </td><td class="markdownTableBodyNone">Vertical   </td><td class="markdownTableBodyNone">For internal use mostly    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone">buffer init   </td><td class="markdownTableBodyNone">Vertical   </td><td class="markdownTableBodyNone">Can be used when initialising at start up    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">drawBitmap()   </td><td class="markdownTableBodyNone">Vertical   </td><td class="markdownTableBodyNone">default, setDrawBitmapAddr(true)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">5   </td><td class="markdownTableBodyNone">drawBitmap()   </td><td class="markdownTableBodyNone">Horizontal   </td><td class="markdownTableBodyNone">setDrawBitmapAddr(false)   </td></tr>
</table>
<p>See the bitmap example file for more details on each method. Bitmaps can be turned to data <a href="https://javl.github.io/image2cpp/">here at link</a> , Bitmaps should be defined as const buffers non-const, for methods 3 buffer can be initialised with bitmap data.</p>
<h2><a class="anchor" id="user-adjustments-1"></a>
User Adjustments</h2>
<p>If the LCD does not initialize correctly. Try adjusting the RAM address control setting from 0x02 to 0x01. It can be set in LCDbegin() argument list. See github issue 4 at the Arduino source port github repository for more details, link in overview.</p>
<p>When the user calls LCDbegin() to start LCD they can specify a contrast setting from 0x00 to 0xFF. Datasheet says 0x49 is default. (VbiasPOT). Lower contrast works better on the blue color version.</p>
<p>It is also possible for user to change LCD bias , Temperature coefficient, frame rate and power control but this must be done by changing defines in header file. Choose lower frame rate for lower power, and choose higher frame rate to improve LCD contrast and minimize flicker. See Data sheet for range of values here. Defaults where found to be fine during all testing of this library.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter   </th><th class="markdownTableHeadNone">default Values   </th><th class="markdownTableHeadNone">Define   </th><th class="markdownTableHeadNone">Register Bits    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">LCD bias   </td><td class="markdownTableBodyNone">9   </td><td class="markdownTableBodyNone">BIAS_RATIO_SET   </td><td class="markdownTableBodyNone">BR 1:0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Temp coefficient   </td><td class="markdownTableBodyNone">-0.00%/ C   </td><td class="markdownTableBodyNone">TEMP_COMP_SET   </td><td class="markdownTableBodyNone">TC 1:0    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Frame rate   </td><td class="markdownTableBodyNone">95 fps   </td><td class="markdownTableBodyNone">FRAMERATE_SET   </td><td class="markdownTableBodyNone">LC 4:3    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Power control   </td><td class="markdownTableBodyNone">1.4mA + Internal VLCD (7x charge pump)   </td><td class="markdownTableBodyNone">PC_SET   </td><td class="markdownTableBodyNone">PC 2:0    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">V bias Bot(contrast)   </td><td class="markdownTableBodyNone">0x49   </td><td class="markdownTableBodyNone">Set by user with LCDbegin   </td><td class="markdownTableBodyNone">PM 7:0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Ram Address Control   </td><td class="markdownTableBodyNone">0x02   </td><td class="markdownTableBodyNone">Set by user with LCDbegin   </td><td class="markdownTableBodyNone">AC 2:0   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
