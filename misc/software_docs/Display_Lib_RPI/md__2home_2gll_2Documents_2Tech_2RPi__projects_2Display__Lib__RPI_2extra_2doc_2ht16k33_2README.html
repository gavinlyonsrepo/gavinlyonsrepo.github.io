<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Display_Lib_RPI: HT16K33 Readme</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Display_Lib_RPI<span id="projectnumber">&#160;2.4.2</span>
   </div>
   <div id="projectbrief">A C++ Library to connect electronic displays to Linux single board computers.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">HT16K33 Readme</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="ht16k33-readme"></a> </p>
<h1><a class="anchor" id="table-of-contents-4"></a>
Table of contents</h1>
<ul>
<li><a class="el" href="md__2home_2gll_2Documents_2Tech_2RPi__projects_2Display__Lib__RPI_2extra_2doc_2ch1115_2README.html#overview">Overview</a></li>
<li><a class="el" href="md__2home_2gll_2Documents_2Tech_2RPi__projects_2Display__Lib__RPI_2extra_2doc_2ch1115_2README.html#hardware">Hardware</a><ul>
<li><a class="el" href="md__2home_2gll_2Documents_2Tech_2RPi__projects_2Display__Lib__RPI_2extra_2doc_2ht16k33_2README.html#seven-segment">Seven segment</a></li>
<li><a class="el" href="md__2home_2gll_2Documents_2Tech_2RPi__projects_2Display__Lib__RPI_2extra_2doc_2ht16k33_2README.html#nine-segment">Nine segment</a></li>
<li><a class="el" href="md__2home_2gll_2Documents_2Tech_2RPi__projects_2Display__Lib__RPI_2extra_2doc_2ht16k33_2README.html#fourteen-segment">Fourteen segment</a></li>
<li><a class="el" href="md__2home_2gll_2Documents_2Tech_2RPi__projects_2Display__Lib__RPI_2extra_2doc_2ht16k33_2README.html#sixteen-segment">Sixteen segment</a></li>
</ul>
</li>
<li><a class="el" href="md__2home_2gll_2Documents_2Tech_2RPi__projects_2Display__Lib__RPI_2extra_2doc_2ch1115_2README.html#software">Software</a><ul>
<li><a class="el" href="md__2home_2gll_2Documents_2Tech_2RPi__projects_2Display__Lib__RPI_2extra_2doc_2hd44780_2README.html#example-files">Example files</a></li>
<li><a class="el" href="md__2home_2gll_2Documents_2Tech_2RPi__projects_2Display__Lib__RPI_2extra_2doc_2hd44780_2README.html#i2c">I2C</a></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="overview-4"></a>
Overview</h1>
<ul>
<li>Display Name:HT16K33</li>
<li>Author: Gavin Lyons.</li>
<li>Description:</li>
</ul>
<p>A Raspberry pi library to display data on LED segment modules using the HT16K33 controller module. The Library supports 7, 9, 14, and 16 segment displays. The LED segment displays must be common cathode. At present the library does not support keyscan or some custom products on market(such as backpacks with semi-colons), this is for the IC module pictured driving standard common cathode LED segments.</p>
<h1><a class="anchor" id="hardware-4"></a>
Hardware</h1>
<p><a href="https://github.com/gavinlyonsrepo/Display_Lib_RPI/blob/main/extra/images/ht.jpg"><img src="https://github.com/gavinlyonsrepo/Display_Lib_RPI/blob/main/extra/images/ht.jpg" alt="module " class="inline"/></a></p>
<p>The HT16K33 is a RAM Mapping 16*8 LED Controller Driver with keyscan. The 28 pin package can control up to 128 LEDS. In library use case that is 8 digits of an LED segment device. Segments are connected to the A0-A15 on controller. Digits common are connected to C0-C7 on controller. We cannot use the decimal point on 16 segment devices as controller does not have enough control AX lines. Max. 16 x 8 patterns, 16 segments and 8 commons.</p>
<ul>
<li>7 segment = (7 segments + decimal point) x 8 Digits = 64 LEDS</li>
<li>9 segment = (9 segments + decimal point) X 8 Digits = 80 LEDS</li>
<li>14 segment = (14 segments + decimal point) X 8 Digits = 120 LEDS</li>
<li>16 segment = 16 Segments X 8 digits = 128 LEDS</li>
</ul>
<p><a href="https://github.com/gavinlyonsrepo/Display_Lib_RPI/blob/main/extra/images/segment.jpg"><img src="https://github.com/gavinlyonsrepo/Display_Lib_RPI/blob/main/extra/images/segment.png" alt="segments" class="inline"/></a></p>
<p>I2C-bus interface. I2C Connections to PI.</p>
<ol type="1">
<li>HT16K33 SCLK = SCLK1 I2C pins P1-05 GPIO3</li>
<li>HT16K33 SDA = SDA1 I2C pins P1-03 GPIO2</li>
</ol>
<h2><a class="anchor" id="seven-segment"></a>
Seven segment</h2>
<p>The seven segment example file was tested on and is set up for a 3 digit common cathode LED display. LT0565GWK.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">HT16k33   </th><th class="markdownTableHeadNone">LED Segment LT0565GWK    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">C0   </td><td class="markdownTableBodyNone">Com 12 DIG1    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">C1   </td><td class="markdownTableBodyNone">Com 9 DIG2    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">C2   </td><td class="markdownTableBodyNone">Com 8 DIG3    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">A0   </td><td class="markdownTableBodyNone">A 11    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">A1   </td><td class="markdownTableBodyNone">B 7    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">A2   </td><td class="markdownTableBodyNone">C 4    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">A3   </td><td class="markdownTableBodyNone">D 2    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">A4   </td><td class="markdownTableBodyNone">E 1    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">A5   </td><td class="markdownTableBodyNone">F 10    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">A6   </td><td class="markdownTableBodyNone">G 5    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">A7   </td><td class="markdownTableBodyNone">Dp 3   </td></tr>
</table>
<h2><a class="anchor" id="nine-segment"></a>
Nine segment</h2>
<p>No example file for this as did not have device. To change which segment display is enabled just pass the relevant enum value as argument in the DisplayInit() function in setup.</p>
<h2><a class="anchor" id="fourteen-segment"></a>
Fourteen segment</h2>
<p>The Fourteen segment example file was tested on two digit common cathode LED Display. LDD-F5406RI</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">HT16k33   </th><th class="markdownTableHeadNone">LED Segment LDD-F5406RI    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">C0   </td><td class="markdownTableBodyNone">Com 16 DIG1    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">C1   </td><td class="markdownTableBodyNone">Com 11 DIG2    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">A0   </td><td class="markdownTableBodyNone">A 12    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">A1   </td><td class="markdownTableBodyNone">B 10    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">A2   </td><td class="markdownTableBodyNone">C 9    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">A3   </td><td class="markdownTableBodyNone">D 7    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">A4   </td><td class="markdownTableBodyNone">E 1    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">A5   </td><td class="markdownTableBodyNone">F 18    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">A6   </td><td class="markdownTableBodyNone">G1 13    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">A7   </td><td class="markdownTableBodyNone">G2 6    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">A8   </td><td class="markdownTableBodyNone">H 17    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">A9   </td><td class="markdownTableBodyNone">J 15    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">A10   </td><td class="markdownTableBodyNone">K 14    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">A11   </td><td class="markdownTableBodyNone">L 5    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">A12   </td><td class="markdownTableBodyNone">M 4    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">A13   </td><td class="markdownTableBodyNone">N 2    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">A14   </td><td class="markdownTableBodyNone">Dp 8   </td></tr>
</table>
<h2><a class="anchor" id="sixteen-segment"></a>
Sixteen segment</h2>
<p>No example file for this as did not have device. To change which segment display is enabled just pass the relevant enum value as argument in the DisplayInit() function in setup. Decimal point not supported as is, not enough segment lines.</p>
<h1><a class="anchor" id="software-4"></a>
Software</h1>
<h2><a class="anchor" id="example-files-1"></a>
Example files</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Filepath   </th><th class="markdownTableHeadNone">File Function    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">test_7_segment   </td><td class="markdownTableBodyNone">Carries out test sequence testing 3 digit 7 segment    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">test_14_segment   </td><td class="markdownTableBodyNone">Carries out test sequence testing 2 digit 14 segment   </td></tr>
</table>
<h2><a class="anchor" id="i2c-1"></a>
I2C</h2>
<p>Hardware I2C.</p>
<ol type="1">
<li>I2C Address is set by default to 0x70(your module could be different,
user can change argument passed into class constructor). The I2C address of module can be adjusted on PCB. I2C_FLAGS no flags are currently defined. This parameter should be set to zero. The value to set I2C_DEVICE, can be found by running command, to view available I2C device numbers</li>
</ol>
<div class="fragment"><div class="line">i2cdetect -l</div>
</div><!-- fragment --><ol type="1">
<li>I2C Clock rate is set by device installed on. During development and testing on raspberry pi 5 it was found that by default the baudrate was set to 100,000 baud. By modifying the file /boot/firmware/config.txt baud can be increased</li>
</ol>
<div class="fragment"><div class="line">param=i2c_arm=on,i2c_arm_baudrate=400000</div>
</div><!-- fragment --><ol type="1">
<li>In the event of an error writing a byte, debug info with error code will be written to console. Debug configuration flag must be set to true to see this output. User can set error timeout between retry attempts and number of retry attempts and can monitor the Error flag. </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
