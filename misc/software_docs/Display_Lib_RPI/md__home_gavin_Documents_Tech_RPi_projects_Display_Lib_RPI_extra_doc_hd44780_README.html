<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Display_Lib_RPI: HD44780 LCD Readme</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Display_Lib_RPI
   &#160;<span id="projectnumber">1.2.0</span>
   </div>
   <div id="projectbrief">A C++ Library to connect electronic displays to Raspberry Pi single board computers.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">HD44780 LCD Readme </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://github.com/gavinlyonsrepo/pic_16F1619_projects/blob/master/images/LCDPCF.jpg"><img src="https://github.com/gavinlyonsrepo/pic_16F1619_projects/blob/master/images/LCDPCF.jpg" alt=" lcd image" class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md24"></a>
Table of contents</h1>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#hardware">Hardware</a></li>
<li><a href="#software">Software</a><ul>
<li><a href="#i2c">I2C</a></li>
<li><a href="#debug">Debug</a></li>
<li><a href="#example-files">Example files</a></li>
</ul>
</li>
<li><a href="#output">Output</a></li>
<li><a href="#notes-and-issues">Notes and issues</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md25"></a>
Overview</h1>
<ul>
<li>Name : HD44780_LCD</li>
<li>Description :</li>
</ul>
<p>0. Library to support the HD44780 LCD , (I2C PCF8574 "backpack" interface) for the Raspberry PI.</p><ol type="1">
<li>Dynamic install-able system level Raspberry Pi C++ library.</li>
<li>Backlight, scroll, cursor and entrymode control.</li>
<li>Custom character support + print class for numerical data.</li>
<li>Hardware I2C using bcm2835 library</li>
<li>Dependency: bcm2835 Library</li>
<li>Tested on size 16x02 and 20x04 (but may work on other sizes eg 16x04 , untested)</li>
</ol>
<ul>
<li>Author: Gavin Lyons</li>
</ul>
<h1><a class="anchor" id="autotoc_md26"></a>
Hardware</h1>
<p>Connections</p>
<ol type="1">
<li>LCD SCLK = SCLK1 I2C pins P1-05 GPIO3</li>
<li>LCD SDA = SDA1 I2C pins P1-03 GPIO2</li>
</ol>
<h1><a class="anchor" id="autotoc_md27"></a>
Software</h1>
<h2><a class="anchor" id="autotoc_md28"></a>
I2C</h2>
<p>Hardware I2C.</p>
<ol type="1">
<li>I2C Address is set by default to 0x27(your module could be different, user can change argument passed into LCD class constructor).</li>
<li>I2C Clock rate can be a passed into in the LCD class constructor method as a argument, User can pass 1 of 4 BCM2835_I2C_CLOCK_DIVIDER values 2500, 626 150 or 148. See image below.</li>
<li>In the event of an error writing a byte, debug info with error code will be written to console. This error code is the bcm2835I2CReasonCodes enum. Debug flag must be set to true to see this output. See image below for bcm2835I2CReasonCodes. User can set error timeout between retry attempts and number of retry attempts and can monitor the Error flag to see current bcm2835I2CReasonCodes.</li>
<li>If you have multiple devices on I2C bus at different clock speeds. The I2C clock speed function may have to called before each tranche of LCD commands. and not just at start.</li>
</ol>
<p><a href="https://github.com/gavinlyonsrepo/SSD1306_OLED_RPI/blob/main/extras/image/bcm.jpg"><img src="https://github.com/gavinlyonsrepo/SSD1306_OLED_RPI/blob/main/extras/image/bcm.jpg" alt=" bcm image" class="inline"/></a></p>
<p>For more info on bcm2835I2CClockDivider &amp; bcm2835I2CReasonCodes see <a href="http://www.airspayce.com/mikem/bcm2835/group__constants.html">bcm2835 doc's for details</a></p>
<h2><a class="anchor" id="autotoc_md29"></a>
Debug</h2>
<p>User can turn on debug messages with LCDDebugSet method see example file.</p>
<h2><a class="anchor" id="autotoc_md30"></a>
Example files</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Filepath   </th><th class="markdownTableHeadNone">File Function   </th><th class="markdownTableHeadNone">Screen Size    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TEST_16x02   </td><td class="markdownTableBodyNone">Carries out test sequence testing features   </td><td class="markdownTableBodyNone">16x02    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">TEST_20x04   </td><td class="markdownTableBodyNone">Carries out test sequence testing features   </td><td class="markdownTableBodyNone">20x04    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CLOCK_16x02   </td><td class="markdownTableBodyNone">A basic clock Demo   </td><td class="markdownTableBodyNone">16x02    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">TEST_I2C_16x02   </td><td class="markdownTableBodyNone">Check I2C connection   </td><td class="markdownTableBodyNone">16x02   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md31"></a>
Output</h1>
<p>Output of custom character test in test file.</p>
<p><a href="https://github.com/gavinlyonsrepo/HD44780_LCD_RPI/blob/main/extras/image/custom_output.jpg"><img src="https://github.com/gavinlyonsrepo/HD44780_LCD_RPI/blob/main/extras/image/custom_output.jpg" alt=" op image " class="inline"/></a></p>
<p>20x04 display.</p>
<p><a href="https://github.com/gavinlyonsrepo/HD44780_LCD_PCF8574/blob/main/extras/image/2004.jpg"><img src="https://github.com/gavinlyonsrepo/HD44780_LCD_PCF8574/blob/main/extras/image/2004.jpg" alt=" op image 2 " class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md32"></a>
Notes and issues</h1>
<ol type="1">
<li>For detailed graphical description of entry modes , cursor types, custom characters and more see here <a href="http://dinceraydin.com/lcd/commands.htm">link</a></li>
<li>16X04 board not tested but should work </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Mar 2 2024 22:29:56 for Display_Lib_RPI by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
